app.directive("otpInputDirective",["$timeout",function(o){return{restrict:"A",scope:{options:"="},template:"<div><input type='{{type}}' ng-repeat=\"c in characters\" autocomplete='off' ng-keyup='onKeyUp($index,$event)' ng-keydown='onKeyDown($index,$event)' ng-model='c.value' id='otpInput{{c.index}}' name='otpInput{{c.index}}' ng-style=\"style\" placeholder=\"{{placeholder}}\" maxlength=\"1\"  />\n</div>",link:function(e,t){var n=parseInt(e.options.size)||6,i=100/(n+1),p=i/n,l=[],s=[],a="#6f6d6d",r=Math.floor(1e4*Math.random())+100;e.style={"margin-right":p+"%",border:"none","border-bottom":"2px solid","border-radius":"0",display:"inline-block",width:i+"%","text-align":"center",padding:"5px 0px","border-color":e.options.style&&e.options.style.lineColor?e.options.style.lineColor:a,color:e.options.style&&e.options.style.color?e.options.style.color:a,"font-size":e.options.style&&e.options.style.fontSize?scope.options.style.fontSize:"20px"},e.type=e.options.type?e.options.type:"text",e.placeholder=e.options.placeholder&&1===e.options.placeholder.length?e.options.placeholder:"",e.setOtpValue=function(){e.options.value="";var o=!0;angular.forEach(e.characters,function(t,n){if(1!==t.value.length)return o=!1,!1;e.options.value=e.options.value+t.value}),o&&"function"==typeof e.options.onDone&&e.options.onDone(e.options.value)},e.onKeyUp=function(t,i){var p=i.keyCode||i.which,l=e.options.value;e.setOtpValue(),e.characters[t].value.length>0&&8!==p&&t!=n-1&&o(function(){s[t+1][0].focus()}),"function"==typeof e.options.onChange&&l!==e.options.value&&e.options.onChange(e.options.value)},e.onKeyDown=function(t,n){8===(n.keyCode||n.which)&&""===e.characters[t].value&&0!==t&&o(function(){s[t-1][0].focus()})};for(var c=0;c<n;c++)l.push({index:r+"-"+c,value:""});e.characters=l,o(function(){for(var o=0;o<n;o++)s.push(angular.element("#otpInput"+r+"-"+o))})}}}]);
